@page
@model RegisterModel
@{
    ViewData["Title"] = "Register";
}

@section Styles {
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,100..1000;1,9..40,100..1000&family=Inter:wght@100..900&family=Plus+Jakarta+Sans:ital,wght@0,200..800;1,200..800&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,100..1000;1,9..40,100..1000&family=Inter:wght@100..900&family=Pacifico&family=Plus+Jakarta+Sans:ital,wght@0,200..800;1,200..800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="~/css/register.css" asp-append-version="true" />
}


<div class="row " style="display:none;" >
    <div class="col-lg-6 mx-auto rounded border p-3">
        <div class="d-flex justify-content-center">
            <a asp-area="" asp-controller="Home" asp-action="Index">
                <img src="/logo/roomify logo.png" width="200" />
            </a>
        </div>
        @* <h2 class="text-center mb-3">Register</h2> *@
        <hr />
        <div asp-validation-summary="ModelOnly" class="text-danger" role="alert"></div>
        <form id="registerForm" asp-route-returnUrl="@Model.ReturnUrl" method="post">
            
            <div class="row mb-3">
                <label class="col-sm-4 col-form-label">First Name</label>
                <div class="col-sm-8">
                    <input class="form-control" asp-for="Input.FirstName" />
                    <span asp-validation-for="Input.FirstName" class="text-danger"></span>
                </div>
            </div>

            <div class="row mb-3">
                <label class="col-sm-4 col-form-label">Middle Name</label>
                <div class="col-sm-8">
                    <input class="form-control" asp-for="Input.MiddleName" />
                    <span asp-validation-for="Input.MiddleName" class="text-danger"></span>
                </div>
            </div>

            <div class="row mb-3">
                <label class="col-sm-4 col-form-label">Last Name</label>
                <div class="col-sm-8">
                    <input class="form-control" asp-for="Input.LastName" />
                    <span asp-validation-for="Input.LastName" class="text-danger"></span>
                </div>
            </div>

            <div class="row mb-3">
                <label class="col-sm-4 col-form-label">Email</label>
                <div class="col-sm-8">
                    <input class="form-control" asp-for="Input.Email" />
                    <span asp-validation-for="Input.Email" class="text-danger"></span>
                </div>
            </div>

            <div class="row mb-3">
                <label class="col-sm-4 col-form-label">Phone Number</label>
                <div class="col-sm-8">
                    <input class="form-control" asp-for="Input.PhoneNumber" />
                    <span asp-validation-for="Input.PhoneNumber" class="text-danger"></span>
                </div>
            </div>

            <div class="row mb-3">
                <label class="col-sm-4 col-form-label">Address</label>
                <div class="col-sm-8">
                    <input class="form-control" asp-for="Input.Address" />
                    <span asp-validation-for="Input.Address" class="text-danger"></span>
                </div>
            </div>

            <div class="row mb-3">
                <label class="col-sm-4 col-form-label">Password</label>
                <div class="col-sm-8">
                    <input class="form-control" asp-for="Input.Password" />
                    <span asp-validation-for="Input.Password" class="text-danger"></span>
                </div>
            </div>

            <div class="row mb-3">
                <label class="col-sm-4 col-form-label">Confirm Password</label>
                <div class="col-sm-8">
                    <input class="form-control" asp-for="Input.ConfirmPassword" />
                    <span asp-validation-for="Input.ConfirmPassword" class="text-danger"></span>
                </div>
            </div>

            <div class="row mb-3">
                <div class="offset-sm-4 col-sm-4 d-grid">
                    <button type="submit" class="btn btn-primary">Register</button>
                </div>
                <div class="col-sm-4 d-grid">
                    <a class="btn btn-outline-primary" href="/" role="button">Cancel</a>
                </div>
            </div>
        </form>
    </div>
    
</div>


@* <div class="row">
    <div class="contents">
        <div class="top-texts">
            <h1>Utility Dorm</h1>
            <h2>Create your account</h2>
            <p>Already have an account ? <a class="link-createaccount">Sign in</a></p>
        </div>
        <div class="texts-inputs">
            <form>
                <div class="row mb-3">
                    <div class="col-md-6">
                        <label for="first-name" class="form-label">First Name</label>
                        <input type="text" class="form-control" id="first-name" placeholder="Enter first name">
                    </div>
                    <div class="col-md-6">
                        <label for="middle-name" class="form-label">Middle Name</label>
                        <input type="text" class="form-control" id="middle-name" placeholder="Enter middle name">
                    </div>
                </div>

                <div class="mb-2">
                    <label for="last-name" class="form-label">Last Name</label>
                    <input type="text" class="form-control" id="last-name" placeholder="Enter last name">
                </div>

                <div class="mb-2">
                    <label for="email" class="form-label">Email Address</label>
                    <input type="email" class="form-control" id="email" placeholder="Enter email address">
                </div>

                <div class="mb-2">
                    <label for="phone" class="form-label">Phone Number</label>
                    <input type="tel" class="form-control" id="phone" placeholder="Enter phone number">
                </div>

                <div class="mb-2">
                    <label for="address" class="form-label">Address</label>
                    <input type="text" class="form-control" id="address" placeholder="Enter address">
                </div>

                <div class="mb-2">
                    <label for="password" class="form-label">Password</label>
                    <input type="password" class="form-control" id="password" placeholder="Enter password">
                </div>

                <div class="mb-3">
                    <label for="confirm-password" class="form-label">Confirm Password</label>
                    <input type="password" class="form-control" id="confirm-password" placeholder="Confirm password">
                </div>
            </form>

            <div class="lower-texts d-none">
                <label>
                    <input type="checkbox" name="subscribe" class="checkboxx" />
                    Remember me ?
                </label>
                <a class="link-forgotpassword">Forgot your password?</a>
            </div>
            <button id="signin-button">Sign up</button>
        </div>
    </div>
</div> *@

<div class="container py-5">
    <div class="row justify-content-center">
        <div class="col-lg-8">
            <div class="card border-0 rounded-3">
                <div class="card-body p-4 p-md-5">
                    <!-- Header Section -->
                    <div class="text-center top-texts mb-4">
                        <a asp-area="" asp-controller="Home" asp-action="Index" class="text-decoration-none">
                            <h1 class="text-center">RJF</h1>
                            <h1 class="text-center">Power Pulse</h1>
                        </a>

                        <p class="text-muted mb-2">Create your account</p>
                    </div>

                    <!-- Form Section -->
                    <div asp-validation-summary="ModelOnly" class="alert alert-danger mb-4" role="alert"></div>
                    <form id="registerForm" asp-route-returnUrl="@Model.ReturnUrl" method="post">
                        <!-- Name Row -->
                        <div class="row g-3 mb-3">
                            <div class="col-md-4">
                                <label asp-for="Input.FirstName" class="form-label fw-bold">First Name</label>
                                <input asp-for="Input.FirstName" class="form-control py-2" placeholder="Enter first name" required>
                                <span asp-validation-for="Input.FirstName" class="text-danger small"></span>
                            </div>
                            <div class="col-md-4">
                                <label asp-for="Input.MiddleName" class="form-label fw-bold">Middle Name</label>
                                <input asp-for="Input.MiddleName" class="form-control py-2" placeholder="Enter middle name (Optional)">
                                <span asp-validation-for="Input.MiddleName" class="text-danger small"></span>
                            </div>
                            <div class="col-md-4">
                                <label asp-for="Input.LastName" class="form-label fw-bold">Last Name</label>
                                <input asp-for="Input.LastName" class="form-control py-2" placeholder="Enter last name" required>
                                <span asp-validation-for="Input.LastName" class="text-danger small"></span>
                            </div>
                        </div>

                        <!-- Email -->
                        <div class="mb-3">
                            <label asp-for="Input.Email" class="form-label fw-bold">Email Address</label>
                            <input asp-for="Input.Email" class="form-control py-2" placeholder="Enter email address" required>
                            <span asp-validation-for="Input.Email" class="text-danger small"></span>
                        </div>

                        <!-- Phone & Address -->
                        <div class="row g-3 mb-3">
                            <div class="col-md-6">
                                <label asp-for="Input.PhoneNumber" class="form-label fw-bold">Phone Number</label>
                                <input asp-for="Input.PhoneNumber" class="form-control py-2" placeholder="Enter phone number" required>
                                <span asp-validation-for="Input.PhoneNumber" class="text-danger small"></span>
                            </div>
                            <div class="col-md-6">
                                <label asp-for="Input.Address" class="form-label fw-bold">Address</label>
                                <input asp-for="Input.Address" class="form-control py-2" placeholder="Enter address" required>
                                <span asp-validation-for="Input.Address" class="text-danger small"></span>
                            </div>
                        </div>

                        <!-- Password -->
                        <div class="row g-3 mb-4">
                            <div class="col-md-6">
                                <label asp-for="Input.Password" class="form-label fw-bold">Password</label>
                                <input asp-for="Input.Password" class="form-control py-2" placeholder="Enter password" required>
                                <span asp-validation-for="Input.Password" class="text-danger small"></span>
                            </div>
                            <div class="col-md-6">
                                <label asp-for="Input.ConfirmPassword" class="form-label fw-bold">Confirm Password</label>
                                <input asp-for="Input.ConfirmPassword" class="form-control py-2" placeholder="Confirm password" required>
                                <span asp-validation-for="Input.ConfirmPassword" class="text-danger small"></span>
                            </div>
                        </div>

                        <!-- ✅ Terms and Conditions checkbox (opens modal) -->
                        <div class="mb-3">
                            <input type="checkbox" class="form-check-input" id="terms-checkbox" data-bs-toggle="modal" data-bs-target="#termsModal">
                            <label for="terms-checkbox" class="form-check-label">
                                I agree to the <a href="#">Terms of Service</a> and <a href="#">Privacy Policy</a>
                            </label>
                        </div>


                        <!-- Buttons -->
                        <div class="row g-2 mt-4">
                            <div class="col-md-6">
                                <button type="submit" id="signUpBtn" class="btn btn-primary w-100 fw-bold" disabled>Sign Up</button>
                            </div>
                            <div class="col-md-6">
                                <a href="/" class="btn btn-outline-primary w-100">Cancel</a>
                            </div>
                        </div>
                    </form>
                    <div class="text-center top-texts mt-4">
                        <p class="mb-0">Already have an account? <a asp-page="./Login" class="text-decoration-none">Sign in</a></p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="termsModal" tabindex="-1" aria-labelledby="termsModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-scrollable modal-lg mx-auto modal-dialog-centered" style="max-width: 500px;">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="termsModalLabel">Terms and Conditions</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body" id="termsContent" style="max-height: 300px; overflow-y: auto;">
                <p><strong>Last updated:</strong> May 9, 2025</p>
                <p>Welcome to RJF Power Pulse! Please carefully read these Terms and Conditions before using our system for energy and utility transactions.</p>

                <h6>1. Interpretation and Definitions</h6>
                <p><strong>Interpretation:</strong> Capitalized terms have the meanings defined below. These apply whether singular or plural.</p>
                <p><strong>Company:</strong> “we,” “us,” or “our” refers to RJF Power Pulse, Philippines.</p>
                <p><strong>Service:</strong> Refers to the energy and utility transaction services we provide through our system.</p>
                <p><strong>User:</strong> “you,” “your” means any person or entity using our Service.</p>
                <p><strong>Account:</strong> Means an account created to access the system.</p>
                <p><strong>Transaction:</strong> Means any energy or utility-related order, payment, or service made through our system.</p>

                <h6>2. Acceptance of Terms</h6>
                <p>By registering an Account or using our Service, you agree to comply with these Terms and Conditions. If you do not agree, you must not use the Service.</p>

                <h6>3. Clarity and Transparency</h6>
                <p>We aim to present clear and transparent terms describing the roles, rights, and responsibilities of all parties. If anything is unclear, please contact us for clarification.</p>

                <h6>4. User Guidelines</h6>
                <p>You agree to use the Service responsibly. Prohibited actions include:</p>
                <ul>
                    <li>Submitting false or inaccurate transaction details.</li>
                    <li>Engaging in fraudulent or illegal activities.</li>
                    <li>Attempting to hack, damage, or disrupt the system.</li>
                    <li>Violating any applicable laws or regulations.</li>
                </ul>
                <p>Accounts that violate these guidelines may be suspended or terminated.</p>

                <h6>5. Payment Terms</h6>
                <p>Payments must be made as specified in your transaction. We accept authorized payment methods (including GCash and bank transfer). By making a transaction, you agree to:</p>
                <ul>
                    <li>Provide accurate billing and payment details.</li>
                    <li>Pay any applicable service fees or charges.</li>
                    <li>Cover penalties or late fees if payments are delayed.</li>
                </ul>
                <p>We reserve the right to suspend transactions for unpaid or suspicious accounts.</p>

                <h6>6. Intellectual Property</h6>
                <p>All system content, including software, designs, logos, and data, is owned or licensed by RJF Power Pulse. You may not copy, modify, distribute, or use any content without prior written permission.</p>

                <h6>7. Liability Limitations</h6>
                <p>To the fullest extent allowed by law, RJF Power Pulse is not liable for:</p>
                <ul>
                    <li>Indirect or incidental damages (including loss of profits, energy service interruptions, or data loss).</li>
                    <li>Third-party failures (such as payment processors or utility providers).</li>
                    <li>Events outside our control (such as natural disasters or cyberattacks).</li>
                </ul>

                <h6>8. Warranty and Disclaimer</h6>
                <p>We provide the Service “as is” and “as available.” We do not guarantee:</p>
                <ul>
                    <li>Continuous, uninterrupted service.</li>
                    <li>That transactions will always be error-free or completed on time.</li>
                    <li>That all information in the system is free of inaccuracies.</li>
                </ul>

                <h6>9. Confidentiality</h6>
                <p>We take confidentiality seriously. We protect user data following applicable data privacy laws. You agree not to misuse any confidential or proprietary information you access through the Service. Please refer to our Privacy Policy for details.</p>

                <h6>10. Termination</h6>
                <p>We may suspend or terminate your Account:</p>
                <ul>
                    <li>For violating these Terms.</li>
                    <li>For non-payment or fraudulent activity.</li>
                    <li>If required by law or regulatory authorities.</li>
                </ul>
                <p>You may also close your Account at any time by contacting us.</p>

                <h6>11. Dispute Resolution</h6>
                <p>If a dispute arises:</p>
                <ul>
                    <li>We encourage you to first contact us for informal resolution.</li>
                    <li>If unresolved, we may use mediation or arbitration.</li>
                    <li>Legal proceedings will follow the laws and jurisdiction of the Philippines.</li>
                </ul>

                <h6>12. Governing Law</h6>
                <p>These Terms are governed by the laws of the Philippines. Any legal disputes will be handled by the competent courts in the Philippines.</p>

                <h6>13. Changes to Terms</h6>
                <p>We may update these Terms as needed. We will post changes on our system and update the “Last updated” date. Your continued use means you accept the new Terms.</p>

                <h6>14. Contact Us</h6>
                <p>For any questions or concerns, please contact:</p>
                <ul>
                    <li>Email: RJFpowerpulse@gmail.com</li>
                    <li>Phone: 0909 481 8273</li>
                </ul>

                <p id="bottomMarker"><strong>You’ve reached the end of the Terms & Conditions.</strong></p>
            </div>
            <div class="modal-footer">
                <button type="button" id="acceptBtn" class="btn btn-primary" disabled data-bs-dismiss="modal">Accept</button>
            </div>
        </div>
    </div>
</div>


<!-- ✅ JavaScript (put before </body>) -->
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const modalBody = document.getElementById('termsContent');
        const acceptBtn = document.getElementById('acceptBtn');
        const termsCheckbox = document.getElementById('terms-checkbox');

        document.getElementById('termsModal').addEventListener('shown.bs.modal', function () {
            acceptBtn.disabled = true;
            modalBody.scrollTop = 0;
        });

        modalBody.addEventListener('scroll', function () {
            if (modalBody.scrollTop + modalBody.clientHeight >= modalBody.scrollHeight - 5) {
                acceptBtn.disabled = false;
            }
        });

        acceptBtn.addEventListener('click', function () {
            termsCheckbox.checked = true;
        });

        termsCheckbox.addEventListener('click', function (e) {
            if (!termsCheckbox.checked) {
                e.preventDefault(); // only allow checking via modal
            }
        });
    });


        const modalBody = document.getElementById('termsContent');
    const acceptBtn = document.getElementById('acceptBtn');

    modalBody.addEventListener('scroll', () => {
        if (modalBody.scrollTop + modalBody.clientHeight >= modalBody.scrollHeight - 5) {
            acceptBtn.disabled = false;
        }
    });

    document.addEventListener('DOMContentLoaded', function () {
        const termsCheckbox = document.getElementById('terms-checkbox');
        const signUpBtn = document.getElementById('signUpBtn');

        // Toggle button based on checkbox state
        termsCheckbox.addEventListener('change', function () {
            signUpBtn.disabled = !termsCheckbox.checked;
        });
    });


</script>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}
