@{
    ViewData["Title"] = "Welcome to Roomify";
}

@using Microsoft.AspNetCore.Identity
@using MyProjectIT15.Models

@inject SignInManager<User> SignInManager
@inject UserManager<User> UserManager

@if (SignInManager.IsSignedIn(User))
{
    <div class="container py-5 min-vh-100 d-flex justify-content-center align-items-center">
        <div class="card shadow-lg rounded-4 p-4 w-100" style="max-width: 700px;">
            <div class="text-center mb-4">
                <h1 class="display-5 fw-bold">Welcome!</h1>
                <p class="text-muted">You are logged in as <span class="badge bg-secondary text-uppercase">@User.Identity?.Name</span></p>
            </div>

            <div class="row g-3 justify-content-center">
                @if (User.IsInRole("admin"))
                {
                    <div class="col-12 col-md-6">
                        <a class="btn btn-outline-primary w-100 btn-lg" asp-controller="AdminPage" asp-action="Index">
                            <i class="bi bi-speedometer2 me-2"></i> Admin Dashboard
                        </a>
                    </div>
                    <div class="col-12 col-md-6">
                        <a class="btn btn-outline-dark w-100 btn-lg" asp-controller="AdminPage" asp-action="ViewAssignedTenants">
                            <i class="bi bi-person-bounding-box me-2"></i> Assigned Tenants
                        </a>
                    </div>
                }
                else if (User.IsInRole("owner"))
                {
                    <div class="col-12 col-md-6">
                        <a class="btn btn-outline-success w-100 btn-lg" asp-controller="AdminPage" asp-action="Owner">
                            <i class="bi bi-house-check me-2"></i> Owner Panel
                        </a>
                    </div>
                    <div class="col-12 col-md-6">
                        <a class="btn btn-outline-warning w-100 btn-lg" asp-controller="AdminPage" asp-action="Rooms">
                            <i class="bi bi-door-open me-2"></i> Manage Rooms
                        </a>
                    </div>
                }
                else if (User.IsInRole("tenant"))
                {
                    <div class="col-12 col-md-6">
                        <a class="btn btn-outline-info w-100 btn-lg" asp-controller="AdminPage" asp-action="Tenant">
                            <i class="bi bi-person-circle me-2"></i> Tenant Dashboard
                        </a>
                    </div>
                    <div class="col-12 col-md-6">
                        <a class="btn btn-outline-secondary w-100 btn-lg" asp-controller="Tenant" asp-action="MyRoom">
                            <i class="bi bi-house-door me-2"></i> My Room
                        </a>
                    </div>
                }
            </div>

            <div class="text-center mt-4">
                <p class="small">
                    Learn about <a href="https://learn.microsoft.com/aspnet/core" target="_blank">building Web apps with ASP.NET Core</a>.
                </p>
            </div>
        </div>
    </div>
}
else
{
        <div class="container-fluid bg-gradient py-5" style="background: linear-gradient(to right, #0d6efd, #4e91ff); min-height: 100vh;">
        <div class="container py-5">
            <div class="text-center mb-5">
                <h1 class="display-3 fw-bold">Welcome to <span class="text-primary">Roomify</span></h1>
                <p class="lead fw-medium">Smart, sleek, and seamless room management</p>
            </div>

            <div class="row justify-content-center g-4">
                <!-- Tenant Card -->
                <div class="col-12 col-md-4">
                    <div class="card bg-white bg-opacity-10 border-0 shadow-lg h-100 backdrop-blur card-hover" style="border-radius: 1rem;">
                        <div class="card-body text-center p-4">
                            <h5 class="fw-bold text-info mb-2">For Tenants</h5>
                            <p class="small">Check room availability, stay updated on announcements, and manage payments from anywhere.</p>
                        </div>
                    </div>
                </div>

                <!-- Owner Card -->
                <div class="col-12 col-md-4">
                    <div class="card bg-white bg-opacity-10 border-0 shadow-lg h-100 backdrop-blur card-hover" style="border-radius: 1rem;">
                        <div class="card-body text-center p-4">
                            <h5 class="fw-bold text-warning mb-2">For Owners</h5>
                            <p class="small">Track occupancy, respond to tenant requests, and manage dorm facilities with ease.</p>
                        </div>
                    </div>
                </div>

                <!-- Admin Card -->
                <div class="col-12 col-md-4">
                    <div class="card bg-white bg-opacity-10 border-0 shadow-lg h-100 backdrop-blur card-hover" style="border-radius: 1rem;">
                        <div class="card-body text-center p-4">
                                <h5 class="fw-bold text-primary mb-2">For Admins</h5>
                            <p class="small">Oversee the platform, generate reports, and ensure smooth operations across the system.</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Call to Action Buttons -->
            <div class="text-center mt-5">
                <p class="fw-semibold mb-3">Ready to simplify your dorm experience?</p>
                <div class="d-grid gap-3 d-md-flex justify-content-center">
                    <a class="btn btn-primary btn-lg px-5 fw-bold shadow" asp-area="Identity" asp-page="/Account/Register">Get Started</a>
                    <a class="btn btn-outline-primary btn-lg px-5 fw-bold shadow" asp-area="Identity" asp-page="/Account/Login">Sign In</a>
                </div>
            </div>

            <!-- Footer -->
            <div class="text-center mt-5">
                <hr class="border-light" />
                <small>&copy; 2025 Roomify — Dorm life, organized beautifully.</small>
            </div>
        </div>
    </div>

}
